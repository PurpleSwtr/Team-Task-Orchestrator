–ö–æ–Ω–µ—á–Ω–æ! –í–æ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è, –∫–∞–∫ –±–µ–∑–±–æ–ª–µ–∑–Ω–µ–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏ –≤ –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ, –≤–∫–ª—é—á–∞—è –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π –∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö.

### –û–±–∑–æ—Ä –ø—Ä–æ—Ü–µ—Å—Å–∞ —Ä–∞–±–æ—Ç—ã —Å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏ –≤ Entity Framework Core

–í –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Entity Framework Core, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–º–µ–Ω—è–µ—Ç –ø–æ–¥—Ö–æ–¥ "Code-First". –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–∞—à–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è C# –∫–ª–∞—Å—Å–∞–º–∏ –≤ –ø–∞–ø–∫–µ `Backend/Models`. –õ—é–±—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —ç—Ç–∏—Ö –º–æ–¥–µ–ª—è—Ö (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ –∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–ª–µ–π) –¥–æ–ª–∂–Ω—ã —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞—Ç—å—Å—è —Å–æ–∑–¥–∞–Ω–∏–µ–º –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º "–º–∏–≥—Ä–∞—Ü–∏–∏" ‚Äî —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª–∞, –∫–æ—Ç–æ—Ä—ã–π –æ–ø–∏—Å—ã–≤–∞–µ—Ç, –∫–∞–∫ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ö–µ–º—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, —á—Ç–æ–±—ã –æ–Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞–ª–∞ –≤–∞—à–∏–º –º–æ–¥–µ–ª—è–º.

---

### –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –ø–æ–ª–µ –≤ –º–æ–¥–µ–ª—å

–î–∞–≤–∞–π—Ç–µ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–∏–º–µ—Ä–∞ –¥–æ–±–∞–≤–∏–º –ø–æ–ª–µ `ShortName` (—Å–æ–∫—Ä–∞—â—ë–Ω–Ω–æ–µ –∏–º—è) –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–∞–∫ —É –≤–∞—Å —É–∫–∞–∑–∞–Ω–æ –≤ `TODO.md`.

#### –®–∞–≥ 1: –ò–∑–º–µ–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª –º–æ–¥–µ–ª–∏, –∫–æ—Ç–æ—Ä—ã–π –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å. –í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ —ç—Ç–æ `Backend/Models/ApplicationUser.cs`. –î–æ–±–∞–≤—å—Ç–µ –≤ –∫–ª–∞—Å—Å –Ω–æ–≤–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ:

```csharp
// Backend/Models/ApplicationUser.cs

using Microsoft.AspNetCore.Identity;
using System.Collections.Generic;

namespace Backend.Models
{
    public class ApplicationUser : IdentityUser
    {
        public string? FirstName { get; set; }
        public string? SecondName { get; set; }
        public string? PatronymicName { get; set; }
        
        // üëá –ù–æ–≤–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–Ω–æ–µ –ø–æ–ª–µ
        public string? ShortName { get; set; } 

        public DateTime? RegistrationTime { get; set; }
        public string? Notes { get; set; }
        public int? IdUserStatus { get; set; }
        public virtual Status? IdUserStatusNavigation { get; set; }
        public virtual ICollection<TasksUser> TasksUsers { get; set; } = new List<TasksUser>();
        public virtual ICollection<UsersCommand> UsersCommands { get; set; } = new List<UsersCommand>();
    }
}
```

#### –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏

–¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª –º–∏–≥—Ä–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–±–∞–≤–∏—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –∫–æ–ª–æ–Ω–∫—É –≤ —Ç–∞–±–ª–∏—Ü—É `AspNetUsers`.

1.  **–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª** –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–µ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.
2.  –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –±—ç–∫–µ–Ω–¥–∞:
    ```bash
    cd Backend
    ```
3.  –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏. –î–∞–π—Ç–µ –µ–π –æ—Å–º—ã—Å–ª–µ–Ω–Ω–æ–µ –∏–º—è, –Ω–∞–ø—Ä–∏–º–µ—Ä, `AddShortNameToUser`.

    ```bash
    dotnet ef migrations add AddShortNameToUser
    ```

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã –≤ –ø–∞–ø–∫–µ `Backend/Migrations` –ø–æ—è–≤–∏—Ç—Å—è –Ω–æ–≤—ã–π —Ñ–∞–π–ª —Å –∏–º–µ–Ω–µ–º –≤—Ä–æ–¥–µ `20251008xxxxxx_AddShortNameToUser.cs`. –ï–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:

```csharp
// ...
protected override void Up(MigrationBuilder migrationBuilder)
{
    migrationBuilder.AddColumn<string>(
        name: "ShortName",
        table: "AspNetUsers",
        type: "nvarchar(max)",
        nullable: true);
}
// ...
```
–≠—Ç–æ—Ç –∫–æ–¥ –≥–æ–≤–æ—Ä–∏—Ç Entity Framework –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–ª–æ–Ω–∫—É `ShortName` –≤ —Ç–∞–±–ª–∏—Ü—É `AspNetUsers`.

#### –®–∞–≥ 3: –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

–ü–æ—Å–ª–µ–¥–Ω–∏–π —à–∞–≥ ‚Äî –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

1.  –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –∑–∞–ø—É—â–µ–Ω. –í—ã –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –µ–≥–æ –∫–æ–º–∞–Ω–¥–æ–π –∏–∑ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:
    ```bash
    docker-compose up -d db
    ```2.  –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ, –Ω–∞—Ö–æ–¥—è—Å—å –≤ –ø–∞–ø–∫–µ `Backend`, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:
    ```bash
    dotnet ef database update
    ```

–ì–æ—Ç–æ–≤–æ! –í–∞—à–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∞, –∏ –≤ —Ç–∞–±–ª–∏—Ü–µ `AspNetUsers` —Ç–µ–ø–µ—Ä—å –µ—Å—Ç—å –∫–æ–ª–æ–Ω–∫–∞ `ShortName`.

---

### –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: –ö–∞–∫ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –ø–æ–ª–µ

–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ ‚Äî –±–æ–ª–µ–µ –¥–µ–ª–∏–∫–∞—Ç–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å, —Ç–∞–∫ –∫–∞–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é EF –º–æ–∂–µ—Ç —É–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—É—é –∫–æ–ª–æ–Ω–∫—É (–≤–º–µ—Å—Ç–µ —Å–æ –≤—Å–µ–º–∏ –¥–∞–Ω–Ω—ã–º–∏) –∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é. –ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö, –Ω—É–∂–Ω–æ –Ω–µ–º–Ω–æ–≥–æ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª –º–∏–≥—Ä–∞—Ü–∏–∏.

–î–∞–≤–∞–π—Ç–µ –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞ –ø–µ—Ä–µ–∏–º–µ–Ω—É–µ–º –ø–æ–ª–µ `PatronymicName` –≤ `LastName` –≤ —Ç–æ–π –∂–µ –º–æ–¥–µ–ª–∏ `ApplicationUser`.

#### –®–∞–≥ 1: –ò–∑–º–µ–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏

–ü–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ —Å–≤–æ–π—Å—Ç–≤–æ –≤ —Ñ–∞–π–ª–µ `Backend/Models/ApplicationUser.cs`.

```csharp
// Backend/Models/ApplicationUser.cs
public class ApplicationUser : IdentityUser
{
    public string? FirstName { get; set; }
    public string? SecondName { get; set; }
    
    // üëá –ü–æ–ª–µ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–æ —Å PatronymicName –Ω–∞ LastName
    public string? LastName { get; set; } 

    public string? ShortName { get; set; } 
    // ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥
}
```

#### –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏

–ö–∞–∫ –∏ –≤ –ø—Ä–æ—à–ª—ã–π —Ä–∞–∑, —Å–æ–∑–¥–∞–π—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é –∏–∑ –ø–∞–ø–∫–∏ `Backend`.

```bash
dotnet ef migrations add RenamePatronymicToLastNameOnUser
```

#### –®–∞–≥ 3: **(–í–∞–∂–Ω–æ!)** –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –º–∏–≥—Ä–∞—Ü–∏–∏

–û—Ç–∫—Ä–æ–π—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –º–∏–≥—Ä–∞—Ü–∏–∏ (`..._RenamePatronymicToLastNameOnUser.cs`). –í—ã —É–≤–∏–¥–∏—Ç–µ, —á—Ç–æ EF —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª –∫–æ–¥ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Å—Ç–∞—Ä–æ–π –∫–æ–ª–æ–Ω–∫–∏ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–π:

```csharp
// –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ –ø–æ—Ç–µ—Ä–µ –¥–∞–Ω–Ω—ã—Ö!
protected override void Up(MigrationBuilder migrationBuilder)
{
    migrationBuilder.DropColumn(
        name: "PatronymicName",
        table: "AspNetUsers");

    migrationBuilder.AddColumn<string>(
        name: "LastName",
        table: "AspNetUsers",
        type: "nvarchar(max)",
        nullable: true);
}
```

–≠—Ç–æ –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ –ø–æ—Ç–µ—Ä–µ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –≤ —ç—Ç–æ–π –∫–æ–ª–æ–Ω–∫–µ. **–ó–∞–º–µ–Ω–∏—Ç–µ** —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –º–µ—Ç–æ–¥–∞ `Up` –Ω–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é –∫–æ–º–∞–Ω–¥—É `RenameColumn`:

```csharp
// –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –¥–ª—è –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è
protected override void Up(MigrationBuilder migrationBuilder)
{
    migrationBuilder.RenameColumn(
        name: "PatronymicName",
        table: "AspNetUsers",
        newName: "LastName");
}
```
–¢–∞–∫–∏–º –∂–µ –æ–±—Ä–∞–∑–æ–º –Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `Down`, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ—Ç–∫–∞—Ç –º–∏–≥—Ä–∞—Ü–∏–∏:
```csharp
// –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–∫–∞—Ç
protected override void Down(MigrationBuilder migrationBuilder)
{
    migrationBuilder.RenameColumn(
        name: "LastName",
        table: "AspNetUsers",
        newName: "PatronymicName");
}
```
–≠—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –∫–æ–ª–æ–Ω–∫–∞ –±—É–¥–µ—Ç –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

#### –®–∞–≥ 4: –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏

–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ –º–∏–≥—Ä–∞—Ü–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞, –ø—Ä–∏–º–µ–Ω–∏—Ç–µ –µ—ë –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:

```bash
dotnet ef database update
```

#### –®–∞–≥ 5: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞

–ù–µ –∑–∞–±—É–¥—å—Ç–µ –Ω–∞–π—Ç–∏ –≤—Å–µ –º–µ—Å—Ç–∞ –≤ –≤–∞—à–µ–º –∫–æ–¥–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞—Ö, —Å–µ—Ä–≤–∏—Å–∞—Ö, DTO), –≥–¥–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–æ—Å—å —Å—Ç–∞—Ä–æ–µ –∏–º—è `PatronymicName`, –∏ –∑–∞–º–µ–Ω–∏—Ç—å –µ–≥–æ –Ω–∞ `LastName`.

### –û–±—â–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

*   **–û–¥–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è ‚Äî –æ–¥–Ω–æ –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ.** –°—Ç–∞—Ä–∞–π—Ç–µ—Å—å –Ω–µ —Å–º–µ—à–∏–≤–∞—Ç—å –≤ –æ–¥–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª–µ–π, –∏—Ö –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ. –≠—Ç–æ —É–ø—Ä–æ—Å—Ç–∏—Ç –æ—Ç–ª–∞–¥–∫—É, –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ–π–¥–µ—Ç –Ω–µ —Ç–∞–∫.
*   **–í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏.** –û—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–∏ –∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ –Ω–µ –≤—Å–µ–≥–¥–∞ –∏–¥–µ–∞–ª–µ–Ω.
*   **–†–∞–±–æ—Ç–∞ –≤ –∫–æ–º–∞–Ω–¥–µ.** –ü–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ –ø—Ä–∏–º–µ–Ω—è—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏, —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —á–ª–µ–Ω—ã –∫–æ–º–∞–Ω–¥—ã –ø–æ–ª—É—á–∏–ª–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–∑ —Å–∏—Å—Ç–µ–º—ã –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π (Git), —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤.